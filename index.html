<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>STRIDE — Plan Smarter, Move Faster</title>
  <meta name="description"
    content="STRIDE — A modern project management dashboard. Plan your projects, track progress, and collaborate with your team." />
  <meta name="author" content="STRIDE" />

  <!-- Security: Content Security Policy ──────────────────────────────
       - default-src 'self'        → only load resources from this origin
       - script-src  'self'        → blocks unsafe-eval (prevents eval / obfuscated payload execution)
                                     blocks unsafe-inline (prevents inline <script> XSS)
       - style-src   'self' 'unsafe-inline' + fonts → needed for Tailwind/CSS-in-JS
       - font-src    + googleapis  → Google Fonts
       - img-src     'self' data: blob:  → inline SVGs, canvas exports
       - connect-src 'self'        → API calls only to same origin (expand for real backend)
       - object-src  'none'        → blocks Flash / plugin-based RCE vectors
       - base-uri    'self'        → prevents <base> tag hijacking
       - form-action 'self'        → prevents form submission to external origins
       - frame-ancestors 'none'    → prevents clickjacking via iframes
  -->
  <meta http-equiv="Content-Security-Policy"
    content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: blob:; connect-src 'self' https:; object-src 'none'; base-uri 'self'; form-action 'self'; frame-ancestors 'none';" />

  <!-- Security: Prevent MIME-sniffing attacks -->
  <meta http-equiv="X-Content-Type-Options" content="nosniff" />

  <!-- Security: Prevent embedding in iframes (clickjacking) -->
  <meta http-equiv="X-Frame-Options" content="DENY" />

  <!-- Security: Control referrer leakage -->
  <meta name="referrer" content="strict-origin-when-cross-origin" />

  <meta property="og:title" content="STRIDE — Plan Smarter, Move Faster" />
  <meta property="og:description"
    content="A modern project management dashboard. Plan your projects, track progress, and collaborate with your team." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/stride-logo.webp" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@STRIDE" />
  <meta name="twitter:image" content="/stride-logo.webp" />

  <!-- Favicons -->
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png" />
  <link rel="icon" type="image/png" sizes="192x192" href="/favicon-192.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@400;500;600;700&display=swap" rel="stylesheet" />
</head>

<body>
  <!-- Security: Anti-Clickjacking Frame-Buster (legacy fallback) ─────
       Modern browsers enforce CSP frame-ancestors 'none' (set above).
       This <noscript> + inline style fallback covers ancient browsers
       that don't support CSP2. The style hides the page when framed;
       the JS removes it when running top-level. Since our CSP blocks
       unsafe-inline scripts, we use the noscript/style approach which
       is CSP-compliant and doesn't require a nonce. -->
  <style id="anticlick-frame-bust">
    /* If we are framed, hide everything until proven top-level */
    html {
      display: none !important;
    }
  </style>
  <noscript>
    <meta http-equiv="refresh" content="0;url=about:blank" />
  </noscript>

  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>

  <script type="module">
    // Remove the anti-clickjack hiding style when running top-level.
    // If framed, this module won't execute (blocked by CSP frame-ancestors).
    if (window.self === window.top) {
      const el = document.getElementById('anticlick-frame-bust');
      if (el) el.remove();
    } else {
      // Framed — force top-level navigation (legacy frame-busting)
      window.top.location = window.self.location;
    }
  </script>
</body>

</html>